
<div id="top-menu"></div>

<script>
  fetch("top-menu.html")
    .then(res => res.text())
    .then(data => {
      document.getElementById("top-menu").innerHTML = data;
    });
</script>
<!--<bibtex src="publications/journals.bib"></bibtex>
<div id="bibtex_display"></div>-->
<!--<script src="./js/bibtex_js.js"></script>-->
<!-- 1. Load the BibTeX parser library -->
<script src="https://cdn.jsdelivr.net/npm/@orcid/bibtex-parse-js@0.0.25/bibtexParse.js"></script>

<!-- 2. Your own code that uses bibtexParse -->
<script>
  async function renderBibtexList(bibPath, containerId) {
    const container = document.getElementById(containerId);

    try {
      const res = await fetch(bibPath);
      const bibText = await res.text();

      // âœ… This will now work because the script above defines `bibtexParse`
      const entries = bibtexParse.toJSON(bibText);

      container.innerHTML = "";

      entries.forEach(entry => {
        const tags = entry.entryTags || {};
        const title   = tags.title    || "Untitled";
        const authors = tags.author   || "";
        const year    = tags.year     || "";
        const venue   = tags.journal  || tags.booktitle || "";

        const card = document.createElement("div");
        card.className = "card mb-3 shadow-sm";
        card.innerHTML = `
          <div class="card-body">
            <h5 class="card-title mb-1">${title}</h5>
            <p class="card-subtitle text-muted mb-1">${authors}</p>
            <p class="mb-2">
              ${venue ? `<em>${venue}</em>` : ""}${year ? (venue ? ", " : "") + year : ""}
            </p>
          </div>
        `;
        container.appendChild(card);
      });

    } catch (e) {
      console.error("Error loading bib file:", bibPath, e);
      container.innerHTML = `<p class="text-danger">Failed to load publications from <code>${bibPath}</code>.</p>`;
    }
  }

  // Adjust paths according to your folder structure
  renderBibtexList("../publications/conferences.bib", "conference-list");
  renderBibtexList("publications/journals.bib",       "journal-list");
</script>



<main class="flex-grow-1">
  <div class="container py-5">

    <!-- Navigation buttons (optional) -->
    <div class="d-flex justify-content-center flex-wrap gap-2 mb-4">
      <a href="#journal-articles" class="btn btn-outline-dark btn-sm">Journal Articles</a>
      <a href="#conference-papers" class="btn btn-outline-dark btn-sm">Conference Papers</a>
    </div>

    <!-- Journals -->
    <section id="journal-articles" class="mb-5">
      <h2 class="mb-3">Journal Articles</h2>
      <div id="journal-list"></div>
    </section>

    <!-- Conferences -->
    <section id="conference-papers" class="mb-5">
      <h2 class="mb-3">Conference Papers</h2>
      <div id="conference-list"></div>
    </section>

  </div>
</main>

<style>
  html { scroll-behavior: smooth; }
</style>











<div id="footer"></div>
<script>
  fetch("footer.html")
    .then(res => res.text())
    .then(data => {
      document.getElementById("footer").innerHTML = data;
    });
</script>
<script src="./js/bootstrap.bundle.min.js"></script>

